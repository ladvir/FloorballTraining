@using FloorballTraining.UseCases.Dashboard.Interfaces
@inject IGetDashBoardDataUseCase GetDashBoardDataUseCase
@inject NavigationManager NavigationManager

@if (_dashBoardDataDto == null)
{
    <MudPaper Class="align-center justify-center mud-width-full" Elevation="0">
        <MudProgressCircular Color="Color.Warning" Size="Size.Large" Indeterminate="true" />
    </MudPaper>
}
else
{
    <MudPaper Elevation="0" Class="d-inline-flex gap-6 flex-wrap">
        <DashboardItem Title="Aktivity" ItemsCount="@_dashBoardDataDto.ActivitiesCount" LinkToList="/activities" LinkToNew="/addactivity" TitleAdd="Nová aktivita"/>
        <DashboardItem Title="Tréninky" ItemsCount="@_dashBoardDataDto.TrainingsCount" LinkToList="/trainings" LinkToNew="/addtraining" TitleAdd="Nový trénink"/>
        <DashboardItem Title="Kluby" ItemsCount="@_dashBoardDataDto.ClubsCount" LinkToList="/clubs"/>
        <DashboardItem Title="Týmy" ItemsCount="@_dashBoardDataDto.TeamsCount" LinkToList="/teams"/>
    </MudPaper>
}

@code {
    private DashBoardDataDto? _dashBoardDataDto;

    protected override async Task OnInitializedAsync()
    {
        _dashBoardDataDto = await GetDashBoardDataUseCase.ExecuteAsync(); 
    }
}
