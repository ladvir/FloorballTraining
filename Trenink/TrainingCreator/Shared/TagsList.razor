@using TrainingDataAccess.Models
@using TrainingCreator.Data
@using TrainingCreator.Pages.Components

<TagTree Tags="Tags"/>

@code {

    [Parameter]
    public HashSet<Tag>? Tags { get; set; } 

    [Parameter]
    public EventCallback<int> Action { get; set; }

    public List<Tag> Items { get; set; } = new List<Tag>();
    [Parameter]
    public HashSet<Tag> SelectedValues { get; set; } = new HashSet<Tag>();
    
    protected override void OnInitialized()
    {
        Items = (TagTreeBuilder.Build(Tags) ?? new List<Tag>()).ToList();

    }

    private void OnTagClick(int tagId)
    {
        Action.InvokeAsync(tagId);
    }

}
