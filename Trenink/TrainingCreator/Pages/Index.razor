@page "/"
@using TrainingDataAccess.Services.ActivityServices
@using TrainingDataAccess.Services.TagServices
@using TrainingDataAccess.Models
@using TrainingDataAccess.Services.TrainingServices
@using TrainingCreator.Data
@using TrainingCreator.Pages.Components
@inject IActivityService ActivityService

@inject ITrainingService TrainingService
@inject ITagService TagService
@inject IDialogService DialogService

@inject NavigationManager NavigationManager

<PageTitle>Přehled</PageTitle>

<MudButton OnClick="Save">Save</MudButton>
<MudText >@_text</MudText>

@code
{
    private string _text = string.Empty;
    
    
    private async Task Save()
    {
        try
        {
            _text = string.Empty;
            var training = await TrainingService.GetTraining(5);
            await TrainingService.SaveTraining(training);
            StateHasChanged();

        }
        catch (Exception x)
        {
            _text = DateTime.Now + @"<br/>" + x.Message + @"<br/>" + x.InnerException?.InnerException?.Message;
        }


    }
}


